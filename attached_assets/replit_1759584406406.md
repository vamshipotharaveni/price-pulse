# Grocery Price Comparison App - "Thanuja"

## Overview

Thanuja is a grocery price comparison platform that allows users to search for grocery items and compare real-time prices across multiple Indian e-commerce platforms including Zepto, Blinkit, BigBasket, Swiggy Instamart, and Reliance. The application helps users make informed purchasing decisions by displaying price differences, delivery times, stock availability, and enabling direct purchases through external platform links.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture

**Framework**: React 18+ with TypeScript, built using Vite for optimal development and production performance.

**UI Component System**: 
- Utilizes shadcn/ui component library built on Radix UI primitives
- Custom Material Design 3 inspired styling with utility-first approach via Tailwind CSS
- Follows "New York" style variant from shadcn/ui
- Design system based on Google Shopping and Amazon aesthetics for e-commerce trust and clarity

**Styling System**:
- Tailwind CSS with custom configuration for design tokens
- CSS variables for theming (light/dark mode support)
- Custom color system optimized for price comparison:
  - Success/Lowest prices: Green (#142 76% 36%)
  - Warning/Mid prices: Amber (#45 93% 47%)
  - Danger/High prices: Red (#0 72% 51%)
- Inter and Roboto font stack via Google Fonts
- Responsive design with mobile-first approach

**State Management**:
- React Query (TanStack Query) for server state and data fetching
- React hooks (useState, useContext) for local component state
- Custom ThemeProvider context for theme management
- Custom toast notification system via useToast hook

**Routing**:
- Wouter for lightweight client-side routing
- Currently single-page application with home route and 404 handling

**Key Features**:
- Real-time search with debouncing capability
- Location-based filtering via pincode and geolocation
- Platform-specific filtering
- Quantity selector with multiple units (kg, liters, pieces, dozen)
- Dark/light theme toggle
- Price comparison visualization with savings calculations
- External platform purchase redirects

### Backend Architecture

**Server Framework**: Express.js running on Node.js with TypeScript

**API Pattern**: RESTful API design (routes prefixed with `/api`)

**Development Setup**:
- Vite middleware integration for HMR in development
- Custom logging middleware for request/response tracking
- Error handling middleware for consistent error responses

**Storage Interface**:
- Abstracted storage layer with `IStorage` interface
- In-memory implementation (`MemStorage`) for development
- Designed for easy migration to database-backed storage
- CRUD methods for user management (placeholder for future authentication)

**Build Process**:
- Frontend: Vite builds to `dist/public`
- Backend: esbuild bundles server code to `dist` with ESM format
- Separate development and production environments

### Data Storage Solutions

**Database ORM**: Drizzle ORM configured for PostgreSQL

**Database Provider**: Neon serverless PostgreSQL (based on `@neondatabase/serverless` dependency)

**Schema Design**:
- User table with UUID primary keys (auto-generated)
- Username/password fields for authentication (not yet implemented)
- Drizzle Zod integration for runtime validation
- Migration system via `drizzle-kit`

**Current State**:
- Database schema defined but routes not yet implemented
- User authentication system prepared but not active
- Product/price comparison data currently mocked in frontend
- Storage interface ready for database integration

**Design Decision**: Database is configured but actual data operations (product listings, price comparisons, user sessions) are not yet implemented. The mock data suggests the eventual schema will need:
- Products table (name, quantity, image, category)
- Prices table (product_id, platform, price, originalPrice, deliveryTime, inStock, url)
- User preferences/location data
- Search history/favorites

### External Dependencies

**Third-Party Services** (Planned/Required):
1. **Price Data Sources**: Integration points needed for:
   - Zepto API/scraping
   - Blinkit API/scraping
   - BigBasket API/scraping
   - Swiggy Instamart API/scraping
   - Reliance/JioMart API/scraping

2. **Geolocation Services**:
   - Browser Geolocation API (navigator.geolocation)
   - Reverse geocoding service needed to convert lat/lng to pincode
   - Currently uses browser API but lacks backend implementation

3. **Image Hosting**:
   - Currently using Unsplash for mock product images
   - Production will need CDN or image storage solution

**NPM Dependencies**:
- **UI Components**: All Radix UI primitives (@radix-ui/*)
- **Styling**: Tailwind CSS, class-variance-authority, clsx
- **Forms**: react-hook-form, @hookform/resolvers, zod
- **Data Fetching**: @tanstack/react-query
- **Database**: drizzle-orm, @neondatabase/serverless
- **Session Management**: connect-pg-simple (configured but not active)
- **Date Utilities**: date-fns
- **Icons**: lucide-react
- **Routing**: wouter
- **Development**: Replit-specific plugins for error overlay, cartographer, dev banner

**Authentication Strategy** (Planned):
- PostgreSQL session store via `connect-pg-simple`
- User table schema prepared with username/password
- No implementation yet (IStorage interface ready)

**Rationale**: The application follows a progressive enhancement approach where the UI and user experience are fully functional with mock data, allowing frontend development to proceed independently while backend integrations are built out. The abstracted storage layer and typed interfaces ensure smooth transition from mock to real data.